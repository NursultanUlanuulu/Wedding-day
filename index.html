<!DOCTYPE html>
<html lang="ky">
	<head>
		<meta charset="UTF-8" />
		<link rel="icon" type="image/png" href="/860883.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Ынтымак & Эльназ</title>

		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display+SC:ital,wght@0,400;0,700;0,900;1,400;1,700;1,900&display=swap"
			rel="stylesheet"
		/>
		<script src="https://cdn.tailwindcss.com"></script>

		<style>
			.fade-in {
				animation: fadeIn 1s ease forwards;
			}

			.fade-in-delayed {
				animation: fadeIn 1s ease forwards;
				animation-delay: 1s;
			}

			.fade-in-late {
				animation: fadeIn 1s ease forwards;
				animation-delay: 1.8s;
			}

			@keyframes fadeIn {
				from {
					opacity: 0;
					transform: translateY(20px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}
		</style>
	</head>

	<body class="bg-[#fefaef] min-h-screen overflow-x-hidden">
		<section id="intro"></section>
		<!-- Основной блок -->
		<div id="page-content" class="transition-opacity duration-1000 opacity-100">
			<div
				class="bg-[#820201] h-[200px] text-center relative z-0 opacity-0 fade-in"
				style="clip-path: polygon(0 0, 100% 0%, 100% 100%, 0% 90%)"
			>
				<h1
					class="font-['Great_Vibes'] text-white text-4xl pt-6 fade-in-delayed opacity-0"
				>
					Чакыруу!
				</h1>
			</div>

			<div class="flex justify-center relative h-[320px]">
				<img
					src="./img/494827750_552595851047333_5963306807963872731_n.jpg"
					class="w-[200px] border-[4px] border-white absolute top-[-100px] opacity-0 fade-in-delayed"
					alt=""
				/>
				<button
					id="openBtn"
					class="bg-[#820201] z-1 w-[105px] h-[105px] rounded-full flex justify-center items-center absolute top-[200px] opacity-0 fade-in-late"
				>
					<div
						class="flex items-center justify-center w-[95px] h-[95px] text-center border rounded-full border-white"
						id="open-invitation"
					>
						<p
							class="font-['Playfair_Display_SC'] text-white text-[13px] px-2 leading-tight"
							id="musicToggle"
						>
							Чакырууну ачуу
						</p>
					</div>
				</button>
			</div>

			<div
				class="text-center font-['Playfair_Display_SC'] uppercase font-semibold opacity-0 fade-in-late"
			>
				<p>Биз күткөн күн да келди</p>
				<p class="text-[#820201]">— биз үйлөнүп жатабыз!</p>
			</div>
		</div>
		<audio
			id="introAudio"
			src="/Maher_Zain_For_the_rest_of_my_life.mp3"
			preload="auto"
			loop
		></audio>
		<script>
			const openBtn = document.getElementById('openBtn')
			const intro = document.getElementById('intro')
			const audio = document.getElementById('introAudio')

			openBtn.addEventListener('click', e => {
				e.preventDefault()

				// Пытаемся воспроизвести музыку
				audio.play().catch(err => {
					console.warn('Автовоспроизведение заблокировано:', err)
				})

				// Сохраняем флаг для следующей страницы
				localStorage.setItem('playMusic', 'true')

				// Плавное исчезновение
				intro.classList.remove('opacity-100')
				intro.classList.add('opacity-0')

				setTimeout(() => {
					window.location.href = 'invitation.html'
				}, 1000)
			})
		</script>

		<script src="./script.js"></script>
	</body>
</html>
